# Shape Guides Visual Pretense

This repository accompanies an empirical study of people's preferences in visual pretense and potential accounts of such preferences.

## Environment

Use `environment.yml` to install the `conda` environment for running the analysis scripts.

Download the data and materials folder from the [OSF repository](https://osf.io/ykdr5/) and put them in the root of this repository. Create the following directory structure from the root folder:
```
mkdir -p fig
```

## Data analysis and visualization

Analyze behavioral data in Study 1 (real-to-pretend) and plot the pretense preferences against various feature similarity judgments. The script will print out the choice distribution for each item in various experimental conditions, the result of a likelihood ratio test of the pretense preferences, a paired t-test of the differences in the mean proportion of choosing the preferred pretend option across the shape and color tasks, as well as other summary statistics.
```
python src/exp1_analysis.py
```

Analyze behavioral data in Study 2 (pretend-to-real) and plot the pretense preferences against various feature similarity judgments. The script will print out the choice distribution for each item in various experimental conditions, the result of a likelihood ratio test of the pretense preferences, a paired t-test of the differences in the mean proportion of choosing the preferred real object option across the shape and color tasks, as well as other summary statistics.
```
python src/exp2_analysis.py
```

Analyze behavioral data in Study 3 (free-form pretend) and plot the distribution of the proportion of choosing the free-form generated pretend object relative to the randomly paired baseline across 150 triads, for color and shape similarity.
```
python src/exp3_analysis.py
```

Plot a comparison of the dispersion of clicks between the Pretense and the Prior conditions, as well as a comparison of the location of imagined sub-parts across human visual pretense and inpainting samples generated by multi-modal generative models.
```
python src/exp4_analysis.py
```

## Computational models

### Derive representational similarities from CLIP model

```
python script/get_clip_prob_exp1.py
python script/get_clip_prob_exp2.py
```


### Inpainting with multi-modal generative models

Sample inpainted images from Stable Diffusion given the visual input and the language prompt.
```
python script/stable_diffusion_inpaint.py
```

Sample inpainted images from DALLE 2 given the visual input and the language prompt.
```
python script/stable_diffusion_inpaint.py
```

